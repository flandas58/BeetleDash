# BeetleDash
Digital dashboard for early model volkswagens

I have a 1967 VW Beetle which has become something of a project car. Beetles dont have much in the way of instrumentation, A speedometer, oil pressure light and a (very inaccurate) Fuel gauge. plus the usual indicators and high beam light.

Since I have an interest in microcontrollers from Raspberry Pis to Arduinos I thought that I could do some sort of digital dashboard and display more information such as engine temperature, actual oil pressure, more accurate fuel rpm etc. Initially I was looking at using one of the Onion Omegas but decided against this on the because of the cost and lack of analog inputs. Then I thought about having an arduino (Nano) as a buffer to get the readings from the different senders and using the Omega to display the values using a Python script called from an HTML page. I started building this on some Veroboard (strip board) and ultimately decided that it was overly complex and inefficient.

I looked around for a device that could be both a web server hosting the html as well as collect the relevant data from the senders. Going through my collection of microcontrollers I started to investigate some 8266 development kits. These ticked quite a few boxes including being cheap (less than $5 AUD) and supporting Arduino libraries. They have an embedded file storage that is both readable and writeable and can provide a secure wifi access point. This means that I could create a minimal component circuit board that can read the values from the senders and serve the values in JASON format to a web browser/page. As far as the circuitry was concerned there were only 2 main hurdles, the 8266 only has 1 analog pin, and the input voltages had to be 3.3v or less. The solution was to use an MCP3008 8bit ADC to use voltage dividers for the analog inputs and to use H11L1M optocouplers for the tacho and indicators (to prevent voltge spikes from destroying the microcontroller). 

Displaying the output: the microcontroller runs a web server page that provides a default page. The graphics are stored on the 8266 file system as an svg file. The html runs Java script to get the data from the 8266 and modifies the svg objects to change the rotation of the needle for the circular gauges, (fuel, temp, pressure, volts rpm and Kph) as well as turning the dashboard indicator lights on or off.
My initial thought was that I would display the html page in a browser on an old(ish) android tablet but android doesnt allow chrome to display in full screen, as well as this, the screen would sleep after a short period. The solution so far is to have an android app that has its own webserver, displays in full screen and stops the tablet from entering sleep mode.

Todo: Speedometer. First thought was to disconnect the speedo cable and add some hardware with a hall effect sensor, but this would mean that the existing speedo would no longer work. My solution is to use GPS to read the speed and distanced travelled over time. I have a GPS 
device on order and will update when I have more information.
